<!DOCTYPE html>
<html>
<head>
<title>
Tower Defence by Kevin Nash
</title>
<style type="text/css">
body {
    background-color : #000000;
}
canvas {
    border : 2px solid #FF0000;
    margin-left : auto;
    margin-right : auto;
    display : block
}
</style>
</head>
<body>
<canvas id="myCanvas"></canvas>
<script src="jquery.min.js"></script><!-- //ajax.googleapis.com/ajax/libs/jquery/1.8.2/ -->

<script src="commonFncs.js"></script>
<script src="baseEntities.js"></script>

<script src="logic.js"></script>
<script src="graphics.js"></script>
<script src="entities.js"></script>
<script src="quadtree.js"></script>
<script>
    var wTiles = 20;
    var hTiles = 16;
    var tileSize = 32;
    var width = wTiles * tileSize;
    var height = hTiles * tileSize + 200;
    var bW = width;
    var bH = height - 200;
    var mX = -1;
    var mY = -1;
    $(document).ready(function() {
        $("#myCanvas").attr("width", width);
        $("#myCanvas").attr("height", height);
        window.reqAnim = (function(){
            return  window.requestAnimationFrame || 
            window.webkitRequestAnimationFrame   || 
            window.mozRequestAnimationFrame      || 
            window.oRequestAnimationFrame        || 
            window.msRequestAnimationFrame       || 
            function( callback ){
                window.setTimeout(callback, 1000 / 60);
            };
        })();
        
        canvas = document.getElementById("myCanvas");
        var pen = canvas.getContext("2d");
        eng = new Engine(pen);
        window.reqAnim(eng.run.bind(eng));
        
        $("#myCanvas").mousemove(function(e) {
            eng.mX = e.offsetX;
            eng.mY = e.offsetY;
        });
        $("#myCanvas").mouseout(function() {
            eng.mX = -1;
            eng.mY = -1;
        });
        $("#myCanvas").click(function(e) {
            eng.click(e);
        });
    });
</script>
</body>
</html>